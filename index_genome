
rule index_genome:
        input: directory("/mnt/mydatalocal/chromosome/Chr{sample}/")
        output: directory ("/mnt/mydatalocal/genome/starIndex/")
        singularity: "docker://evolbioinfo/star:v2.7.6a"
        threads: 4
        shell:
                """
                        mkdir {output}
                        STAR --runThreadN {threads} \
                        -- runMode genomeGenerate \
                        --genomeDir {output} \
                        --genomeFastaFiles {output}.fa
                """

rule annotation:
        output: directory("mnt/mylocaldata/genome/annotation/")
        shell:
                """
                        mkdir {output}
                        wget ftp://ftp.ensembl.org/pub/release-101/gtf/homo_sapiens/Homo_sapiens.GRCh38.101.chr.gtf.gz
                """
